--- drivers/ata/pata_via.c
+++ drivers/ata/pata_via.c
@@ -350,18 +339,11 @@
 	if (config->id == PCI_DEVICE_ID_VIA_82C586_0) {
 		ata_id_c_string(dev->id, model_num, ATA_ID_PROD, sizeof(model_num));
 		if (strcmp(model_num, "TS64GSSD25-M") == 0) {
-			ata_dev_warn(dev,
-	"disabling UDMA mode due to reported lockups with this device\n");
+			ata_dev_printk(dev, KERN_WARNING,
+	"disabling UDMA mode due to reported lockups with this device.\n");
 			mask &= ~ ATA_MASK_UDMA;
 		}
 	}
-
-	if (dev->class == ATA_DEV_ATAPI &&
-	    dmi_check_system(no_atapi_dma_dmi_table)) {
-		ata_dev_warn(dev, "controller locks up on ATAPI DMA, forcing PIO\n");
-		mask &= ATA_MASK_PIO;
-	}
-
 	return mask;
 }
 
@@ -558,12 +540,14 @@
 	const struct ata_port_info *ppi[] = { NULL, NULL };
 	struct pci_dev *isa;
 	const struct via_isa_bridge *config;
+	static int printed_version;
 	u8 enable;
 	u32 timing;
 	unsigned long flags = id->driver_data;
 	int rc;
 
-	ata_print_version_once(&pdev->dev, DRV_VERSION);
+	if (!printed_version++)
+		dev_printk(KERN_DEBUG, &pdev->dev, "version " DRV_VERSION "\n");
 
 	rc = pcim_enable_device(pdev);
 	if (rc)
