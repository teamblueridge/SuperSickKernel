--- drivers/net/gianfar_ptp.c
+++ drivers/net/gianfar_ptp.c
@@ -491,7 +496,7 @@
 	spin_lock_init(&etsects->lock);
 
 	etsects->regs = ioremap(etsects->rsrc->start,
-				resource_size(etsects->rsrc));
+				1 + etsects->rsrc->end - etsects->rsrc->start);
 	if (!etsects->regs) {
 		pr_err("ioremap ptp registers failed\n");
 		goto no_ioremap;
